<!DOCTYPE html>
<html>
<head>
<title>Bejelentkezés</title>
<link rel="stylesheet" href="frontend.css?v=1.0">
<script>src="frontend.js"</script>
<meta charset="UTF-8">
<style>
   
</style>
<script src="test.js"></script>
</head>

<body>
    <link rel="stylesheet" type="text/css"  />
<div id="bodycucc">
<h1 style="text-align: center;">Kérlek jelentkezz be!</h1>
<br>
<p id="bejelentkezes">
        

    <form id="myForm">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username"><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password"><br><br>
        <input type="button" value="Submit" onclick="bejelentkezes()">
    </form>

    <script>
        async function bejelentkezes() {
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;

            const loginData = {
                Username: username,
                Password: password
            };

            const response = await fetch('https://localhost:7090/api/Authentication/login', {
                method: 'POST',
                body: JSON.stringify(loginData),
                headers: { 'Content-Type': 'application/json' }
            });

            if (!response.ok) {
                const message = await response.text();
                alert(message);
            } else {
                const message = await response.text();
                alert(message);
                window.location.href='mainPage.html'
            }
        }
    </script>

</p>

		
		
	</div>
    

</body>
</html>