<!DOCTYPE html>
<html>
<head>
<title>Bejelentkezés</title>
<link rel="stylesheet" href="frontend.css">
<script>src="frontend.js"</script>
<meta charset="UTF-8">
<style>
   
</style>
<script src="test.js"></script>
</head>

<body>
    
<div id="bodycucc">
<h1 style="text-align: center;">Kérlek jelentkezz be!</h1>
<br>
<p id="bejelentkezes">
    <form id="loginForm" action="/api/Authentication/login" method="post">
        <label>Felhasználói név: <input type="text" id="felhasznalonev" name="felhasznalonev"></label>
        <label>Jelszó: <input type="password" id="jelszo" name="jelszo"></label>
        <br>
        <div id="button-container">
            <button type="button" onclick="bejelentkezes()">Save</button>
        </div>
    </form>


    <h2>Login Form</h2>

    <form id="myForm">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username"><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password"><br><br>
        <input type="button" value="Submit" onclick="bejelentkezes()">
    </form>

    <script>
        async function bejelentkezes() {
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;

            const loginData = {
                Username: username,
                Password: password
            };

            const response = await fetch('https://localhost:7090/api/Authentication/login', {
                method: 'POST',
                body: JSON.stringify(loginData),
                headers: { 'Content-Type': 'application/json' }
            });

            if (!response.ok) {
                const message = await response.text();
                alert(message);
            } else {
                const message = await response.text();
                alert(message);
            }
        }
    </script>

</p>

		
		
	</div>
        <!--<p id="bejelentkezes"><label >Felhasználói név: <input id="felhasznalonev" type="text"; size="40"; maxlength="40";
		name="felhnev";autofocus>
		</label></p>
		<p id="bejelentkezes"><label >Jelszó:<input id="jelszo" type="password" size="40"; maxlength="40"; 
		name="jelszo">
		</label></p>-->

</body>
</html>